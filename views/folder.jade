extends layout

block content
  .container(id="upload-container", data-row = options["row_id"]).mt-5
    .row
      .col-md-1
        button.btn.btn-link(onclick="goBack()")
          i.fa.fa-angle-double-left.fa-2x.mr-2
      .col-md-11.mdoc
        h3.mt-1=title
    br
    blockquote
      if options["upload"] == true
        br      
        if options["formats"] != null && options["formats"].length > 0          
          include docs/message_formats
        br
        .container
          .row
            .col-md-12
              input.filestyle.col-sm-9(type="file", name="file", data-text="Select file for upload ...", data-btnClass="btn-outline-primary", data-buttonBefore="true", data-placeholder="", data-source=)                                 
          .row
            .col-md-12
              .progress.mt-1.invisible
                .progress-bar.progress-bar-striped.progress-bar-animated(role='progressbar', aria-valuenow='0', aria-valuemin='0', aria-valuemax='100', style='width: 0%; height: 20px;') 
               
      if options["button"] == "exports"      
        a.btn.btn-outline-primary.mt-2( href= "/folder/exports/new")
          i.fa.fa-cogs
          span.ml-2 
          | Create setup script
        br
      if options["button"] == "flow"      
        //a.btn.btn-outline-primary.mt-2( href= "/folder/clone/"+ options["name"])
        //  i.fa.fa-share-alt
        //  span.ml-2 
        //  | Clone flow template
        blockquote.blockquote
          p.small A list of flows was generated automatically as a result of payments process and reflect data exchange with perimeter systems.
        br     
    br
    br
    table.table(style="background-color: transparent;")
      thead
        tr.row
          th.col-md-5 Name
          th.col-md-2 Size
          if options["upload"] == true 
            th.col-md-2 Uploaded
          else
            th.col-md-2 Created
          th.col-md-3 
      tbody
        for file in files      
          tr.row        
            th.col-md-5(scope="row") #{file["name"]}
            td.col-md-2 #{file["size"]}
            td.col-md-2 #{file["created"]}
            td.col-md-3
              a.btn.btn-outline-danger.btn-sm.mt-0.float-right( href= "/folder/delete/" + file["id"] +"/" + file["name"] + "/" + file["folder"]) Delete
              if options["button"] != "flow"
                a.btn.btn-outline-primary.mr-3.mt-0.btn-sm.float-right( href= "/folder/download/"  + file["id"] +"/" + file["name"] + "/" + file["folder"] ) Download 